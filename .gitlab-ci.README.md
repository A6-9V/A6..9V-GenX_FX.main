# GitLab CI Configuration (Optional)

⚠️ **Note:** This GitLab CI configuration is OPTIONAL and should only be enabled if you're using GitLab as your primary CI/CD platform.

## Configuration

This `.gitlab-ci.yml` file:
- Builds Docker images using `Dockerfile.production`
- Pushes to Docker Hub as `keamouyleng/genx_docker`
- Triggers on pushes to `main` or `master` branches

## Default Platform

**GitHub Actions** is the primary CI/CD platform for this project. See [DEPLOYMENT_STRATEGY.md](DEPLOYMENT_STRATEGY.md) for more information.

## When to Use GitLab CI

Use this configuration only if:
1. Your team primarily uses GitLab for source control
2. You want to build and push to Docker Hub specifically
3. You're NOT using GitHub Actions for the same purpose

## Avoiding Redundant Deployments

⚠️ **WARNING:** If you push to both GitHub and GitLab mirrors simultaneously, you may trigger multiple concurrent deployments, causing race conditions.

**Recommendation:** Choose ONE of the following:
- GitHub Actions (recommended for GitHub-hosted repos)
- GitLab CI (for GitLab-hosted repos)

## Disabling GitLab CI

To disable this configuration:

```bash
# Rename to prevent GitLab from detecting it
mv .gitlab-ci.yml .gitlab-ci.yml.disabled
```

Or remove the file entirely if not needed:

```bash
rm .gitlab-ci.yml
```

## Required Secrets

If you choose to use GitLab CI, configure these CI/CD variables in your GitLab project settings:
- `CI_REGISTRY_USER` - GitLab Container Registry username
- `CI_REGISTRY_PASSWORD` - GitLab Container Registry password
- `DOCKER_USERNAME` - Docker Hub username
- `DOCKER_PASSWORD` - Docker Hub password

## More Information

For deployment strategy and best practices, see [DEPLOYMENT_STRATEGY.md](DEPLOYMENT_STRATEGY.md).
